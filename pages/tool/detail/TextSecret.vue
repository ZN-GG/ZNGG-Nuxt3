<template>
    <div class="bg-white">
        <section class="bg-gray-100">
            <div class="container px-4 mx-auto">
                <div class="md:flex md:-mx-4 md:items-center py-8">
                    <div class="md:w-1/2 px-4">
                        <h1 class="text-2xl text-black">æ–‡å­—é‡Œçš„ç§˜å¯†</h1>
                    </div>
                </div>
            </div>
        </section>
        <section class="w-full container px-4 mx-auto py-12">
            <div>
                <div class="text-xl md:text-2xl font-black my-6">
                    <span :class="show ? 'bg-yellow-300' : ''" @click="changeTab(true)"
                        class="inline-block p-2 cursor-pointer">æ˜¾ç¤ºç§˜å¯†</span>
                    <span :class="show ? '' : 'bg-yellow-300'" @click="changeTab(false)"
                        class="inline-block mx-2 p-2 cursor-pointer">éšè—ç§˜å¯†</span>
                </div>
            </div>
            <div v-show="show">
                <div class="flex-container">
                    <div class="flex-item-lg">
                        <div class="textarea-container"><textarea placeholder="è¯·ç²˜è´´å¾…åŠ å¯†çš„æ–‡æœ¬"
                                v-model="data.result"></textarea>
                        </div>
                    </div>
                    <div class="flex-item-sm">
                        <div class="blue-bar relative"></div>
                    </div>
                    <div class="flex-item-lg">
                        <div class="textarea-container"><textarea placeholder="è¿™é‡Œæ˜¯å°ç§˜å¯†å“¦ï¼ (ğŸ˜†)" v-model="data.textHidden"
                                readonly class="readonly"></textarea>
                        </div>
                    </div>
                </div>
            </div>
            <div v-show="!show">
                <div class="flex-container">
                    <div class="flex-item-lg">
                        <div class="textarea-container"><textarea placeholder="è¾“å…¥è¦æ˜¾ç¤ºçš„æ–‡å­—"
                                v-model="data.textShow"></textarea>
                        </div>
                        <div class="textarea-container"><textarea placeholder="è¾“å…¥è¦éšè—çš„æ–‡å­— (ğŸ˜†)"
                                v-model="data.textHidden"></textarea>
                        </div>
                    </div>
                    <div class="flex-item-sm">
                        <div class="blue-bar relative"></div>
                        <div class="blue-bar relative"></div>
                    </div>
                    <div class="flex-item-lg">
                        <div class="textarea-container"><textarea readonly placeholder="ç»“æœ" class="readonly"
                                v-model="data.result"></textarea>
                        </div>
                    </div>
                </div>
                <div class="flex flex-row flex-wrap">
                    <button
                        class="flex my-2 mr-2 py-2 px-4 font-medium tracking-widest text-white uppercase bg-black shadow-lg focus:outline-none hover:bg-gray-900 hover:shadow-none"
                        @click="encode()">
                        ä¸€é”®éšè—
                    </button>
                    <button class="flex m-2 py-2 px-4 font-medium tracking-widest text-white uppercase bg-red-800 shadow-lg
                focus:outline-none hover:bg-red-900 hover:shadow-none" @click="changeTab(false)">
                        æ¸…ç©º
                    </button>
                </div>
            </div>

        </section>
        <section class="bg-white w-full container mx-auto  px-4 py-6">

            <article class="prose lg:prose-xl" style="max-width: none;">
                <h4>ä¸èƒ½è¯´çš„ <span class="text-xl md:text-2xl font-black bg-green-400 px-2">ç§˜å¯†</span> ï¼š</h4>
                <blockquote>
                    <p>è¿™æ˜¯ä¸€ä¸ªèƒ½å¤ŸæŠŠæ–‡å­—éšè—åœ¨æ–‡å­—ä¸­çš„æœ‰è¶£å°å·¥å…·ï¼Œæ‚¨å¯ä»¥è¾“å…¥è¦å®ç°å‡ºæ¥çš„æ–‡å­—ï¼Œç„¶åè¾“å…¥è¦éšè—çš„æ–‡å­—ï¼Œç‚¹å‡»ä¸€é”®éšè—åä¼šæŠŠç”Ÿæˆå¥½çš„ç§˜å¯†æ–‡å­—å¤åˆ¶ä¸‹æ¥ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä»–ç¤¾äº¤è½¯ä»¶çš„èŠå¤©æ¡†ä¸­ç²˜è´´å¹¶å‘é€ç»™å¥½å‹ï¼Œè®©taæ¥æœ¬ç«™è§£å¯†å§ã€‚
                    </p>
                </blockquote>
                <ul>
                    <li>ç‚¹å‡»éšè—ç§˜å¯†å³å¯è¿›å…¥éšè—æ¨¡å¼</li>
                    <li>ç‚¹å‡»æ˜¾ç¤ºç§˜å¯†å³å¯è¿›å…¥è§£å¯†æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰</li>
                    <li>ä¸¾ä¾‹ï¼šç‚¹å‡»"éšè—ç§˜å¯†"åï¼Œæ˜¾ç¤ºæ–‡å­—è¾“å…¥æ²ˆä½³å®œï¼Œéšè—æ–‡å­—è¾“å…¥æˆ‘çˆ±ä½ ï¼Œç‚¹å‡»ä¸€é”®éšè—åç²˜è´´å‘é€ç»™å¥½å‹ï¼Œè®©taæ¥è§£å¯†æŸ¥çœ‹å±äºä½ ä»¬çš„å°ç§˜å¯†å§ã€‚</li>
                    <li>æœ¬å·¥å…·ä»…é™å¨±ä¹ï¼Œåˆ‡å‹¿ç”¨ä½œéæ³•ç”¨é€”ï¼</li>
                </ul>
            </article>
        </section>
    </div>
</template>
<script setup lang="ts">

const ZWSP = (await import("~/utils/ZWSP")).default
const show = ref(true)
const data = ref({
    "textShow": "",
    "textHidden": "",
    "result": ""
})
const copyText = ref("å¤åˆ¶ç»“æœ")
const { $toast } = useNuxtApp()
const copy = (await import('copy-to-clipboard')).default;


watch(() => data.value.result, (o, n) => {
    if (show.value) {
        data.value.textHidden = ZWSP.decode(data.value.result)
    }
})

function changeTab(status: boolean) {
    show.value = status;
    data.value.textShow = "";
    data.value.textHidden = "";
    data.value.result = "";
}

function encode() {
    if (data.value.textShow.length > 1) {
        data.value.result = data.value.textShow.substring(0, 1) + ZWSP.encode(data.value.textHidden) + data.value.textShow.substring(1)
    } else {
        data.value.result = data.value.textShow.toString() + ZWSP.encode(data.value.textHidden);
    }
    toCopy();
}

function toCopy() {
    copy(data.value.result)
    copyText.value = "å¤åˆ¶å®Œæˆ"
    $toast.success("å¤åˆ¶å®Œæˆ")
    window.setTimeout(function () {
        copyText.value = "ä¸€é”®å¤åˆ¶"
    }, 800)

}

useHead({
    title: "æ–‡å­—é‡Œçš„ç§˜å¯†",
    titleTemplate: (title) => `${title} - å·¥å…· - ZNGGåœ¨çº¿å·¥å…·`,
    viewport: 'width=device-width, initial-scale=1, maximum-scale=1',
    charset: 'utf-8',
    meta: [
        { name: 'Keywords', content: 'æ–‡å­—é‡Œçš„ç§˜å¯†,æ–‡å­—éšå†™æœ¯,éšè—æ–‡å­—,éšè—å­—ç¬¦,æŠŠçˆ±æƒ…è—è¿›æ–‡å­—,é›¶å®½å­—ç¬¦,å±äºä¸¤ä¸ªäººçš„ç§˜å¯†' },
        { name: 'description', content: 'ä¸€ä¸ªèƒ½å¤ŸæŠŠä¸€æ®µæ–‡å­—éšè—äºå¦ä¸€ç«¯æ–‡å­—çš„å·¥å…·ï¼ŒåŸºäºé›¶å®½å­—ç¬¦çš„åŸç†ï¼Œå¯ä»¥æŠŠä¸€äº›å°ç§˜å¯†è—èµ·æ¥å‘é€ç»™å¥½å‹ï¼Œè®©taæ¥æœ¬ç«™è§£å¯†æ­æ™“ç­”æ¡ˆã€‚' }
    ],
})


</script>
<style scoped>
.flex-container textarea {
    width: 100%;
    font-size: 16px;
    height: 150px;
    border-radius: 3px;
    padding: 10px;
    box-sizing: border-box;
    border: none;
    background-color: #F3F4F6;
    color: #000;
}

.flex-container textarea {
    width: 100%;
    font-size: 16px;
    height: 150px;
    border-radius: 3px;
    padding: 10px;
    box-sizing: border-box;
    border: none;
    resize: none;
    font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}

.flex-container textarea:not(.readonly):focus {
    outline: none;
    box-shadow: 0 0 0 2px #3399ff;
}

.flex-container textarea .readonly {
    background-color: #4da6ff;
    color: #fff;
}

.flex-container textarea.readonly:focus {
    outline: none;
}


.flex-container {
    display: flex;
    align-items: center;
}

.flex-item-sm {
    flex-grow: 1;
    flex-basis: 0;
}

.flex-item-lg {
    flex-grow: 10;
    flex-basis: 0;
}

.textarea-container:not(:last-child) .textarea {
    margin-bottom: 3px;
}

.blue-bar {
    height: 10px;
    background-color: #3399ff;
    margin-right: 6px;
}

.blue-bar::before {
    content: "";
    border-width: 8px;
    border-style: solid;
    border-color: transparent transparent transparent #3399ff;
    position: absolute;
    left: 100%;
    top: -3px;
}

.blue-bar:not(:last-child) {
    margin-bottom: 30px;
}

.placeholder {
    color: #777777;
}

.more {
    margin-top: 20px;
    text-align: center;
}

.more .dot-container {
    cursor: pointer;
    display: inline-block;
    width: 100px;
}

.more .dot-container .dot {
    display: inline-block;
    background-color: #4da6ff;
    width: 10px;
    height: 10px;
    border-radius: 50%;
}

.more .dot-container:hover .dot {
    animation: strong-color 560ms ease-in-out forwards;
}

@keyframes strong-color {
    0% {
        background-color: #4da6ff;
    }

    50% {
        background-color: #3399ff;
    }

    100% {
        background-color: #1a8cff;
    }
}

::placeholder {
    /* Chrome, Firefox, Opera, Safari 10.1+ */
    color: #777777;
    opacity: 1;
    /* Firefox */
}

:-ms-input-placeholder {
    /* Internet Explorer 10-11 */
    color: #777777;
}

::-ms-input-placeholder {
    /* Microsoft Edge */
    color: #777777;
}
</style>